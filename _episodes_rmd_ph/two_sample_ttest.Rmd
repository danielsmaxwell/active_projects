---
title: "Two Sample Test (T-Test) (Instructional Worksheet)"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

<script src="hideOutput.js"></script>

<link rel="stylesheet" type="text/css" href="fold.css">

#\textcolor{blue}{1.1} Two Sample T-Test

**Goal:** Compare the mean value of two independent samples ($\mu_1$ and $\mu_2$). 

We are interested in whether the following null or alternate hypotheses is supported by the data.

$$H_0: \mu_1 = \mu_2$$
$$H_1: \mu_1 \ne \mu_2$$

Because we are now interested in comparing the population mean of two samples, we will use a two sample t-test. For 2-sample t-tests we still use the *t.test()* function. 
Let's use the *anorexia* built-in dataset again that we used in the last module. Just to recap, this dataset gives us the weight of patients before and after a study that were each given 1 of 3 treatments.

This time we are interested in the different treatments that the patients were given. Let's compare the mean weight post study of patients given the cognitive behavioral treatment and those in the control group. 

```{r eval = FALSE}
t.test(anorexia$Postwt[anorexia$Treat== "CBT"], anorexia$Postwt[anorexia$Treat=="Cont"])
```

Looking at the output of the t-test, we can see the true mean weight post study for patients given the cognitive behavioral treatment is 86 pounds, while the true mean weight post study for patients in the control group is 81 pounds. The p-value for our test is 0.01469, which is less than 0.05 - therefore, we reject the null hypothesis and support the alternate hypothesis. The mean weight for patients receiving the cognitive behavioral treatment and those in the control group are significantly different. Lastly, the 95% confidence interval is based around the difference in means between the two samples. Therefore, because our 95% confidence interval does not cross 0, this also tells us that the means are significantly different.

Like in the 1-sample t-test we can add the conf.level argument in our function to get a different confidence interval (e.g. 99%). 

If we were instead interested in whether the mean weight post study for those who received the cognitive behavioral treatment was greater or less than the mean weight post study for those in the control group instead of not equal to, we could run the two seperate tests like in the last module.

```{r eval = FALSE}
t.test(anorexia$Postwt[anorexia$Treat == "CBT"], anorexia$Postwt[anorexia$Treat == "Cont"], alternative = "less")
t.test(anorexia$Postwt[anorexia$Treat == "CBT"], anorexia$Postwt[anorexia$Treat == "Cont"],
alternative = "greater")
```

From these two test results, we can see that the true mean weight post study for patients who received the cognitive behavioral treatment is greater than the mean weight post study for patients in the control group. 

>###Note: In R, it does not matter if the sample size is equal or unequal between the two samples when running a t-test. In this situation the sample size is unequal - there is more data for the CBT treatment than for the control group.

#\textcolor{blue}{1.3} Problem Set

1. Using the *anorexia* dataset again, let's explore the other treatment. Is the mean weight post study greater for those who received the family treatment or those in the control group? How do you know?

2. Is the mean weight post study greater for those with the cognitive behavioral treatment or the family treatment? How do you know?

3. Looking back over all of your results, if you wanted the greatest mean weight post study for your patients, which treatment would you give them? 

After you have completed the problem set, click the Code button to see the solution.


<div class="fold s">

```{r eval = FALSE}
t.test(anorexia$Postwt[anorexia$Treat == "FT"], anorexia$Postwt[anorexia$Treat == "Cont"])

#mean weight is greater for family treatment than control
#p value = 0.0003888
#reject null hypothesis

t.test(anorexia$Postwt[anorexia$Treat == "CBT"], anorexia$Postwt[anorexia$Treat == "FT"])

#mean weight post study is not significantly different between CBT and FT
#p value = 0.07129
#fail to reject null hypothesis

#choose CGT or FT no significant difference between the two
#but FT does have a higher mean weight post study
```

</div>

